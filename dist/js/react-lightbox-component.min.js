!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactLightbox=e()}}(function(){return function e(t,i,o){function n(s,r){if(!i[s]){if(!t[s]){var h="function"==typeof require&&require;if(!r&&h)return h(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){var i=t[s][1][e];return n(i?i:e)},c,c.exports,e,t,i,o)}return i[s].exports}for(var a="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(e,t,i){"use strict";var o=window.React,n=(window.ReactDOM,e("./Image"));t.exports=o.createClass({displayName:"Container",propTypes:{selectedImage:o.PropTypes.number,images:o.PropTypes.array.isRequired,toggleLightbox:o.PropTypes.func.isRequired,showImageModifiers:o.PropTypes.bool},getDefaultProps:function(){return{selectedImage:0}},getInitialState:function(){return{selectedImageIndex:this.props.selectedImage}},handleLeftClick:function(){this.canMoveToLeft()&&this.setState({selectedImageIndex:this.state.selectedImageIndex-1})},handleRightClick:function(){this.canMoveToRight()&&this.setState({selectedImageIndex:this.state.selectedImageIndex+1})},canMoveToLeft:function(){return this.state.selectedImageIndex>0},canMoveToRight:function(){return this.state.selectedImageIndex<this.props.images.length-1},render:function(){var e=this.props,t=this.state,i=e.images[t.selectedImageIndex],a=void 0,s=void 0;return this.canMoveToLeft()&&(a=o.createElement("div",{className:"lightbox-btn-left"},o.createElement("button",{className:"lightbox-btn",onClick:this.handleLeftClick},o.createElement("i",{className:"fa fa-3x fa-chevron-left"})))),this.canMoveToRight()&&(s=o.createElement("div",{className:"lightbox-btn-right"},o.createElement("button",{className:"lightbox-btn",onClick:this.handleRightClick},o.createElement("i",{className:"fa fa-3x fa-chevron-right"})))),o.createElement("div",{className:"lightbox-backdrop"},o.createElement("div",{className:"lightbox-btn-close"},o.createElement("button",{className:"lightbox-btn",onClick:e.toggleLightbox},o.createElement("i",{className:"fa fa-lg fa-times"}))),o.createElement("div",{className:"lightbox-title-content"},o.createElement("div",{className:"lightbox-title"},i.title),o.createElement("div",{className:"lightbox-description"},i.description)),o.createElement(n,{src:i.src,showImageModifiers:e.showImageModifiers}),a,s)}})},{"./Image":2}],2:[function(e,t,i){"use strict";var o=window.React,n=window.ReactDOM,a=e("./ImageModifiers"),s=1.1,r=Math.pow(s,30),h=Math.pow(1/s,10);t.exports=o.createClass({displayName:"Image",propTypes:{src:o.PropTypes.string.isRequired,showImageModifiers:o.PropTypes.bool.isRequired},getInitialState:function(){return{loader:!0,ratio:1,positionX:0,positionY:0,rotate:0,width:0,height:0,boxWidth:0,boxHeight:0}},componentWillReceiveProps:function(e){this.resetImageInitialState(e)},componentDidMount:function(){this.resetImageInitialState(this.props),this.startPoints=null,this.props.showImageModifiers&&(document.addEventListener("mousedown",this.handleMoveStart),document.addEventListener("mousemove",this.handleMove),document.addEventListener("mouseup",this.handleMoveEnd),document.addEventListener("touchstart",this.handleMoveStart),document.addEventListener("touchmove",this.handleMove),document.addEventListener("touchend",this.handleMoveEnd),document.addEventListener("wheel",this.handleWheel))},componentWillUnmount:function(){document.removeEventListener("mousedown",this.handleMoveStart),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleMoveEnd),document.removeEventListener("touchstart",this.handleMoveStart),document.removeEventListener("touchmove",this.handleMove),document.removeEventListener("touchend",this.handleMoveEnd),document.removeEventListener("wheel",this.handleWheel)},resetImageInitialState:function(e){var t=new Image,i=this;t.onload=function(){var e=this.width,t=this.height,o=n.findDOMNode(i.refs.container),a=o.offsetWidth,s=o.offsetHeight,r=Math.min(a/e,s/t);i.setState({loader:!1,ratio:r,rotate:0,positionX:(a-e*r)/2,positionY:(s-t*r)/2,width:this.width,height:this.height,boxWidth:a,boxHeight:s,moving:!1})},t.src=e.src},handleRotate:function(e){this.setState({rotate:(360+this.state.rotate+e)%360})},handleZoom:function(e){var t=arguments.length<=1||void 0===arguments[1]?1:arguments[1],i=e>0?Math.pow(s,t):Math.pow(1/s,t),o=this.setZoomLimits(this.state.ratio*i),n=this.state,a=.05,r=void 0,h=void 0;if(Math.min(n.boxWidth/n.width,n.boxHeight/n.height)>=o-a)r=(n.boxWidth-n.width*o)/2,h=(n.boxHeight-n.height*o)/2;else{var l=n.boxWidth/2,c=n.boxHeight/2,d=l-n.positionX,m=c-n.positionY,g=d/(n.width*n.ratio),u=m/(n.height*n.ratio);r=l-n.width*o*g,h=c-n.height*o*u}this.setState({ratio:o,positionX:r,positionY:h})},setZoomLimits:function(e){var t=this.state,i=Math.min(t.boxWidth/t.width,t.boxHeight/t.height);return e/i>r?r*i:h>e/i?h*i:e},handleWheel:function(e){this.isInsideImage(e)&&this.handleZoom(e.deltaY)},handleMove:function(e){if(e=this.getEv(e),this.startPoints){var t=this.state,i=void 0,o=void 0;switch(t.rotate){case 90:o=this.startPoints[0]-e.pageX,i=e.pageY-this.startPoints[1];break;case 180:i=this.startPoints[0]-e.pageX,o=this.startPoints[1]-e.pageY;break;case 270:o=e.pageX-this.startPoints[0],i=this.startPoints[1]-e.pageY;break;default:i=e.pageX-this.startPoints[0],o=e.pageY-this.startPoints[1]}this.startPoints=[e.pageX,e.pageY],(t.positionX+i>=0||t.positionX+i<=t.boxWidth-t.width*t.ratio)&&(i=0),(t.positionY+o>=0||t.positionY+o<=t.boxHeight-t.height*t.ratio)&&(o=0),this.setState({positionX:t.positionX+i,positionY:t.positionY+o})}},handleMoveEnd:function(e){this.startPoints=null,this.setState({moving:!1})},handleMoveStart:function(e){e=this.getEv(e),this.isInsideImage(e)&&1==e.which&&(this.startPoints=[e.pageX,e.pageY],this.setState({moving:!0}))},isInsideImage:function(e){var t=n.findDOMNode(this.refs.container).getBoundingClientRect();return e.pageY<t.top||e.pageY>t.bottom||e.pageX<t.left||e.pageX>t.right?!1:!0},getEv:function(e){return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type?{pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,which:1}:e},render:function(){var e=this.props,t=this.state,i="url("+e.src+")",n=void 0,s=void 0;e.showImageModifiers&&(n=o.createElement(a,{handleRotate:this.handleRotate,handleZoom:this.handleZoom,currentImage:e.src})),t.loader&&(i="none",s=o.createElement("div",{className:"lightbox-loader"},o.createElement("i",{className:"fa fa-3x fa-spinner fa-spin"})));var r="rotate("+t.rotate+"deg)",h={height:"100%",backgroundImage:i,backgroundRepeat:"no-repeat",backgroundSize:t.width*t.ratio+"px "+t.height*t.ratio+"px",backgroundPosition:t.positionX+"px "+t.positionY+"px",MsTransform:r,WebkitTransform:r,transform:r};return o.createElement("div",{className:"lightbox-content-center"},n,o.createElement("div",{className:"lightbox-image-container",ref:"container"},o.createElement("div",{className:"lightbox-image"+(t.moving?" moving":""),style:h},s)))}})},{"./ImageModifiers":3}],3:[function(e,t,i){"use strict";var o=window.React;window.ReactDOM;t.exports=o.createClass({displayName:"Image",propTypes:{handleRotate:o.PropTypes.func.isRequired,handleZoom:o.PropTypes.func.isRequired,currentImage:o.PropTypes.string.isRequired},handleRotateClockwise:function(){this.props.handleRotate.call(this,90)},handleRotateCounterclockwise:function(){this.props.handleRotate.call(this,-90)},handleZoomIn:function(){this.props.handleZoom.call(this,1,10)},handleZoomOut:function(){this.props.handleZoom.call(this,-1,10)},render:function(){return o.createElement("div",{className:"lightbox-modifiers-box"},o.createElement("button",{className:"lightbox-btn",onClick:this.handleZoomIn},o.createElement("i",{className:"fa fa-search-plus"})),o.createElement("button",{className:"lightbox-btn",onClick:this.handleZoomOut},o.createElement("i",{className:"fa fa-search-minus"})),o.createElement("button",{className:"lightbox-btn",onClick:this.handleRotateCounterclockwise},o.createElement("i",{className:"fa fa-rotate-left"})),o.createElement("button",{className:"lightbox-btn",onClick:this.handleRotateClockwise},o.createElement("i",{className:"fa fa-rotate-right"})),o.createElement("a",{className:"lightbox-btn a-padding",download:!0,href:this.props.currentImage},o.createElement("i",{className:"fa fa-download"})))}})},{}],4:[function(e,t,i){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},n=window.React,a=(window.ReactDOM,e("./Portal"),e("./Container"));t.exports=n.createClass({displayName:"Lightbox",propTypes:{images:n.PropTypes.arrayOf(n.PropTypes.shape({src:n.PropTypes.string.isRequired,title:n.PropTypes.string,description:n.PropTypes.string,thumbnail:n.PropTypes.string})).isRequired,showImageModifiers:n.PropTypes.bool,thumbnailWidth:n.PropTypes.string,thumbnailHeight:n.PropTypes.string,renderImageFunc:n.PropTypes.func},getDefaultProps:function(){return{showImageModifiers:!0,thumbnailWidth:"80px",thumbnailHeight:"80px",renderImageFunc:function(e,t,i,o,a){return n.createElement("img",{key:e,src:t.thumbnail?t.thumbnail:t.src,className:"lightbox-img-thumbnail",style:{width:o,height:a},alt:t.title,onClick:i.bind(null,e)})}}},getInitialState:function(){return{showLightbox:!1,selectedImage:0}},toggleLightbox:function(e){this.setState({showLightbox:!this.state.showLightbox,selectedImage:e})},render:function(){var e=this,t=this.props,i=t.images.map(function(i,o){return t.renderImageFunc.call(e,o,i,e.toggleLightbox,t.thumbnailWidth,t.thumbnailHeight)}),s=void 0;return this.state.showLightbox&&(s=n.createElement(a,o({},this.props,{toggleLightbox:this.toggleLightbox,selectedImage:this.state.selectedImage}))),n.createElement("div",{className:"lightbox-container"},i,s)}})},{"./Container":1,"./Portal":5}],5:[function(e,t,i){"use strict";var o=window.React;window.ReactDOM;t.exports=o.createClass({displayName:"Portal",render:function(){return o.createElement("div",{className:"react-lightbox"})}})},{}],6:[function(e,t,i){"use strict";i.Lightbox=e("./Lightbox")},{"./Lightbox":4}]},{},[6])(6)});